# https://projectcalico.docs.tigera.io/getting-started/kubernetes/helm
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: gateway
  namespace: "{{ .Release.Namespace }}"
spec:
  kind: template
  installNamespace: kubegems-gateway
  enabled: true
---
# https://github.com/istio/istio/tree/master/manifests/charts/istio-operator
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: istio-operator
  namespace: "{{ .Release.Namespace }}"
spec:
  enabled: true
  kind: helm
  installNamespace: kubegems-gateway
  repo: https://github.com/istio/istio.git
  path: manifests/charts/istio-operator
  version: "release-1.11"
---
# https://kiali.io/docs/installation/installation-guide/install-with-helm/
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: kiali-server
  namespace: "{{ .Release.Namespace }}"
spec:
  kind: helm
  repo: https://kiali.org/helm-charts
  installNamespace: istio-system
  enabled: true
  values:
    auth:
      strategy: anonymous
---
# https://github.com/argoproj/argo-helm/tree/master/charts/argo-rollouts
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: argo-rollouts
  namespace: "{{ .Release.Namespace }}"
spec:
  kind: helm
  repo: https://argoproj.github.io/argo-helm
  installNamespace: argo-rollouts
  enabled: true
