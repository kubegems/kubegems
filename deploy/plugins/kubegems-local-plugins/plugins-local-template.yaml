apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: argo-rollouts
  namespace: kubegems-local
spec:
  kind: helm
  installNamespace: argo-rollouts
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: cert-manager
  namespace: kubegems-local
spec:
  kind: helm
  enabled: true
  installNamespace: cert-manager
  values:
    installCRDs: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: jaeger
  namespace: kubegems-local
spec:
  kind: helm
  installNamespace: observability
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: loki-stack
  namespace: kubegems-local
spec:
  kind: helm
  installNamespace: loki-stack
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: metrics-server
  namespace: kubegems-local
spec:
  kind: helm
  installNamespace: kube-system
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: kube-prometheus-stack
  namespace: kubegems-local
spec:
  kind: helm
  installNamespace: prometheus
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: gateway
  namespace: kubegems-local
spec:
  kind: native
  installNamespace: kubegems-gateway
  enabled: true
---
apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  name: kubegems-local
  namespace: kubegems-local
spec:
  kind: helm
  enabled: true
  values:
    clusterName: "{{ .Values.clusterName }}"
    storageClass: "{{ .Values.storageClass }}"
    agent:
      image:
        tag: "{{ .Values.kubegemsVersion }}"
    controller:
      image:
        tag: "{{ .Values.kubegemsVersion }}"
