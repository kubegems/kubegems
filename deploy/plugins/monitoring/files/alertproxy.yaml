listen: ":9094"
proxyTemplates:
  - type: feishu
    template: |
      {
        "msg_type": "interactive",
        "card": {
          "config": {
            "wide_screen_mode": true
          },
          "elements": [
            {
              "fields": [
                {
                  "is_short": true,
                  "text": {
                    "content": "**ğŸ• å¼€å§‹æ—¶é—´: **{{ .Alert.StartsAt.Format "2006 01 02 15:04:05" }}",
                    "tag": "lark_md"
                  }
                },
                {
                  "is_short": true,
                  "text": {
                    "content": "**{{ if eq .Alert.Labels.severity "critical" }}ğŸŸ£{{ else }}ğŸ”´{{ end }} çº§åˆ«: **{{ .Alert.Labels.severity }}",
                    "tag": "lark_md"
                  }
                },
                {
                  "is_short": true,
                  "text": {
                    "content": "**â˜¸ï¸ é›†ç¾¤: **{{ .Alert.Labels.cluster }}",
                    "tag": "lark_md"
                  }
                },
                {
                  "is_short": true,
                  "text": {
                    "content": "**ğŸ  å‘½åç©ºé—´: **{{ .Alert.Labels.gems_namespace }}",
                    "tag": "lark_md"
                  }
                }{{ $length := len .At }}{{ if gt $length 0 }},
                {
                  "is_short": true,
                  "text": {
                    "content": "**ğŸ‘¤ è´£ä»»äºº: **{{ range .At }}<at id={{ . }}></at>{{ end }}",
                    "tag": "lark_md"
                  }
                }
                {{- end -}}
              ],
              "tag": "div"
            },          
            {
              "tag": "hr"
            },
            {
              "tag": "div",
              "text": {
                "content": "{{ .Alert.Annotations.message }}",
                "tag": "lark_md"
              }
            }
          ],
          "header": {
            "template": "red",
            "title": {
              "content": "ğŸ”¥ [KubeGemså‘Šè­¦ä¸­å¿ƒ] - {{ .Alert.Labels.gems_alertname }}",
              "tag": "plain_text"
            }
          }
        }
      }
