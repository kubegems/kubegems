# This file is auto generated by 'make generate', please do not modify it manually.
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    bundle.kubegems.io/ignore-options: OnUpdate
  creationTimestamp: null
  labels:
    prometheusrule.kubegems.io/name: kubegems-default-monitor-alert-rule
    prometheusrule.kubegems.io/type: monitor
  name: kubegems-default-monitor-alert-rule
  namespace: {{ .Release.Namespace }}
spec:
  groups:
  - name: KubernetesNodeNotReady
    rules:
    - alert: KubernetesNodeNotReady
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"statusCondition","unit":"","labelpairs":{"condition":"Ready","status":"true"}}'
        message: 'KubernetesNodeNotReady: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [condition:{{"{{"}} $labels.condition }}] [status:{{"{{"}}
          $labels.status }}] Host Kubelet Status Condition trigger alert, value: {{"{{"}}
          $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: kube_node_status_condition{condition=~"Ready",status=~"true"}==0
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.statusCondition
        gems_alertname: KubernetesNodeNotReady
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubernetesMemoryPressure
    rules:
    - alert: KubernetesMemoryPressure
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"statusCondition","unit":"","labelpairs":{"condition":"MemoryPressure","status":"true"}}'
        message: 'KubernetesMemoryPressure: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [condition:{{"{{"}} $labels.condition }}] [status:{{"{{"}}
          $labels.status }}] Host Kubelet Status Condition trigger alert, value: {{"{{"}}
          $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: kube_node_status_condition{condition=~"MemoryPressure",status=~"true"}==1
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.statusCondition
        gems_alertname: KubernetesMemoryPressure
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubernetesDiskPressure
    rules:
    - alert: KubernetesDiskPressure
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"statusCondition","unit":"","labelpairs":{"condition":"DiskPressure","status":"true"}}'
        message: 'KubernetesDiskPressure: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [condition:{{"{{"}} $labels.condition }}] [status:{{"{{"}}
          $labels.status }}] Host Kubelet Status Condition trigger alert, value: {{"{{"}}
          $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: kube_node_status_condition{condition=~"DiskPressure",status=~"true"}==1
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.statusCondition
        gems_alertname: KubernetesDiskPressure
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubernetesOutOfDisk
    rules:
    - alert: KubernetesOutOfDisk
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"statusCondition","unit":"","labelpairs":{"condition":"OutOfDisk","status":"true"}}'
        message: 'KubernetesOutOfDisk: [cluster:{{"{{"}} $externalLabels.cluster }}] [node:{{"{{"}}
          $labels.node }}] [condition:{{"{{"}} $labels.condition }}] [status:{{"{{"}} $labels.status
          }}] Host Kubelet Status Condition trigger alert, value: {{"{{"}} $value | printf
          "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: kube_node_status_condition{condition=~"OutOfDisk",status=~"true"}==1
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.statusCondition
        gems_alertname: KubernetesOutOfDisk
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubernetesPodNumberTooHigh
    rules:
    - alert: KubernetesPodNumberTooHigh
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"runningPodPercent","unit":"percent-0-100"}'
        message: 'KubernetesPodNumberTooHigh: [cluster:{{"{{"}} $externalLabels.cluster
          }}] [node:{{"{{"}} $labels.node }}] Host Running Pod Usage Ratio (%) trigger alert,
          value: {{"{{"}} $value | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_running_pod_percent>90
      for: 1h
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.runningPodPercent
        gems_alertname: KubernetesPodNumberTooHigh
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubernetesPodCrashLooping
    rules:
    - alert: KubernetesPodCrashLooping
      annotations:
        gems_expr_json: '{"scope":"containers","resource":"container","rule":"restartTimesLast5m","unit":"","labelpairs":{"namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage"}}'
        message: 'KubernetesPodCrashLooping: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [namespace:{{"{{"}} $labels.namespace }}] [pod:{{"{{"}} $labels.pod }}] [container:{{"{{"}}
          $labels.container }}] Pod Restart Reason Last 5 minutes trigger alert, value:
          {{"{{"}} $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_container_restart_times_last_5m{namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage"}>2
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: containers.container.restartTimesLast5m
        gems_alertname: KubernetesPodCrashLooping
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: KubernetesPodOOMKilling
    rules:
    - alert: KubernetesPodOOMKilling
      annotations:
        gems_expr_json: '{"scope":"containers","resource":"container","rule":"statusTerminatedReason","unit":"","labelpairs":{"namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage","reason":"OOMKilled"}}'
        message: 'KubernetesPodOOMKilling: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [namespace:{{"{{"}} $labels.namespace }}] [pod:{{"{{"}} $labels.pod }}] [container:{{"{{"}}
          $labels.container }}] [reason:{{"{{"}} $labels.reason }}] Pod Terminated Reason
          trigger alert, value: {{"{{"}} $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: kube_pod_container_status_terminated_reason{namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage",reason=~"OOMKilled"}>0
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: containers.container.statusTerminatedReason
        gems_alertname: KubernetesPodOOMKilling
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: KubegemsPvcUsageTooHigh
    rules:
    - alert: KubegemsPvcUsageTooHigh
      annotations:
        gems_expr_json: '{"scope":"others","resource":"pvc","rule":"volumeUsagePercent","unit":"percent-0-100","labelpairs":{"namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage"}}'
        message: 'KubegemsPvcUsageTooHigh: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [namespace:{{"{{"}} $labels.namespace }}] [persistentvolumeclaim:{{"{{"}}
          $labels.persistentvolumeclaim }}] PersistentVolume Usage Ratio (%) trigger
          alert, value: {{"{{"}} $value | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_pvc_usage_percent{namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage"}>80
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.pvc.volumeUsagePercent
        gems_alertname: KubegemsPvcUsageTooHigh
        gems_namespace: {{ .Release.Namespace }}
        severity: error
    - alert: KubegemsPvcUsageTooHigh
      annotations:
        gems_expr_json: '{"scope":"others","resource":"pvc","rule":"volumeUsagePercent","unit":"percent-0-100","labelpairs":{"namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage"}}'
        message: 'KubegemsPvcUsageTooHigh: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [namespace:{{"{{"}} $labels.namespace }}] [persistentvolumeclaim:{{"{{"}}
          $labels.persistentvolumeclaim }}] PersistentVolume Usage Ratio (%) trigger
          alert, value: {{"{{"}} $value | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_pvc_usage_percent{namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage"}>90
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.pvc.volumeUsagePercent
        gems_alertname: KubegemsPvcUsageTooHigh
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: HostHighCpuLoad
    rules:
    - alert: HostHighCpuLoad
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"cpuUsagePercent","unit":"percent-0-100"}'
        message: 'HostHighCpuLoad: [cluster:{{"{{"}} $externalLabels.cluster }}] [node:{{"{{"}}
          $labels.node }}] Host CPU Usage Ratio (%) trigger alert, value: {{"{{"}} $value
          | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_cpu_usage_percent>80
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.cpuUsagePercent
        gems_alertname: HostHighCpuLoad
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostHighMemoryLoad
    rules:
    - alert: HostHighMemoryLoad
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"memoryUsagePercent","unit":"percent-0-100"}'
        message: 'HostHighMemoryLoad: [cluster:{{"{{"}} $externalLabels.cluster }}] [node:{{"{{"}}
          $labels.node }}] Host Memory Usage Ratio (%) trigger alert, value: {{"{{"}} $value
          | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_memory_usage_percent>90
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.memoryUsagePercent
        gems_alertname: HostHighMemoryLoad
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostUnusualDiskReadRate
    rules:
    - alert: HostUnusualDiskReadRate
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"diskReadBPS","unit":"bytes/sec-B/s"}'
        message: 'HostUnusualDiskReadRate: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] Host Disk Read (bytes/s) trigger alert, value:
          {{"{{"}} $value | printf "%.1f" }}B/s'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_disk_read_bps>50 * 1024 * 1024
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.diskReadBPS
        gems_alertname: HostUnusualDiskReadRate
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostUnusualDiskWriteRate
    rules:
    - alert: HostUnusualDiskWriteRate
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"diskWriteBPS","unit":"bytes/sec-B/s"}'
        message: 'HostUnusualDiskWriteRate: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] Host Disk Write (bytes/s) trigger alert, value:
          {{"{{"}} $value | printf "%.1f" }}B/s'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_disk_write_bps>50 * 1024 * 1024
      for: 5m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.diskWriteBPS
        gems_alertname: HostUnusualDiskWriteRate
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostNetworkReceiveErrors
    rules:
    - alert: HostNetworkReceiveErrors
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"networkInErrPercent","unit":"percent-0-100"}'
        message: 'HostNetworkReceiveErrors: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [instance:{{"{{"}} $labels.instance }}] [device:{{"{{"}} $labels.device
          }}] Host Network Receive ErrorPack Ratio (%) trigger alert, value: {{"{{"}} $value
          | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_network_receive_errs_percent>1
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.networkInErrPercent
        gems_alertname: HostNetworkReceiveErrors
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostNetworkTransmitErrors
    rules:
    - alert: HostNetworkTransmitErrors
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"networkOutErrPercent","unit":"percent-0-100"}'
        message: 'HostNetworkTransmitErrors: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [node:{{"{{"}} $labels.node }}] [instance:{{"{{"}} $labels.instance }}] [device:{{"{{"}} $labels.device
          }}] Host Network Sent ErrorPack Ratio (%) trigger alert, value: {{"{{"}} $value
          | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_network_send_errs_percent>1
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.networkOutErrPercent
        gems_alertname: HostNetworkTransmitErrors
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: HostHighLoad5
    rules:
    - alert: HostHighLoad5
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"load5","unit":""}'
        message: 'HostHighLoad5: [cluster:{{"{{"}} $externalLabels.cluster }}] [node:{{"{{"}}
          $labels.node }}] Host Load 5 trigger alert, value: {{"{{"}} $value | printf "%.1f"
          }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_load5>gems_node_cpu_total_cores
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.load5
        gems_alertname: HostHighLoad5
        gems_namespace: {{ .Release.Namespace }}
        severity: error
    - alert: HostHighLoad5
      annotations:
        gems_expr_json: '{"scope":"system","resource":"node","rule":"load5","unit":""}'
        message: 'HostHighLoad5: [cluster:{{"{{"}} $externalLabels.cluster }}] [node:{{"{{"}}
          $labels.node }}] Host Load 5 trigger alert, value: {{"{{"}} $value | printf "%.1f"
          }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_node_load5>1.5 * gems_node_cpu_total_cores
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.node.load5
        gems_alertname: HostHighLoad5
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: CertManagerCertExpirySoon
    rules:
    - alert: CertManagerCertExpirySoon
      annotations:
        gems_expr_json: '{"scope":"others","resource":"cert","rule":"expirationRemainTime","unit":"duration-s","labelpairs":{"namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage"}}'
        message: 'CertManagerCertExpirySoon: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [namespace:{{"{{"}} $labels.namespace }}] [name:{{"{{"}} $labels.name }}] Expiration
          Time (second) trigger alert, value: {{"{{"}} $value | printf "%.1f" }}s'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_cert_expiration_remain_seconds{namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage"}<7
        * 24 * 60 * 60
      for: 1h
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.cert.expirationRemainTime
        gems_alertname: CertManagerCertExpirySoon
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: CertManagerCertNotReady
    rules:
    - alert: CertManagerCertNotReady
      annotations:
        gems_expr_json: '{"scope":"others","resource":"cert","rule":"status","unit":"","labelpairs":{"condition":"False|Unknown","namespace":"kubegems.*|istio-system|observability|kube-system|local-path-storage"}}'
        message: 'CertManagerCertNotReady: [cluster:{{"{{"}} $externalLabels.cluster }}]
          [namespace:{{"{{"}} $labels.namespace }}] [name:{{"{{"}} $labels.name }}] [condition:{{"{{"}}
          $labels.condition }}] Certs Ready trigger alert, value: {{"{{"}} $value | printf
          "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: certmanager_certificate_ready_status{condition=~"False|Unknown",namespace=~"kubegems.*|istio-system|observability|kube-system|local-path-storage"}==1
      for: 0m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.cert.status
        gems_alertname: CertManagerCertNotReady
        gems_namespace: {{ .Release.Namespace }}
        severity: error
  - name: ClusterHighCpuLoad
    rules:
    - alert: ClusterHighCpuLoad
      annotations:
        gems_expr_json: '{"scope":"system","resource":"cluster","rule":"cpuUsagePercent","unit":"percent-0-100"}'
        message: 'ClusterHighCpuLoad: [cluster:{{"{{"}} $externalLabels.cluster }}] Cluster
          CPU Usage Ratio (%) trigger alert, value: {{"{{"}} $value | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: (1 - avg(irate(node_cpu_seconds_total{mode="idle"}[5m]))) * 100>80
      for: 0m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.cluster.cpuUsagePercent
        gems_alertname: ClusterHighCpuLoad
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: ClusterHighMemoryLoad
    rules:
    - alert: ClusterHighMemoryLoad
      annotations:
        gems_expr_json: '{"scope":"system","resource":"cluster","rule":"memoryUsagePercent","unit":"percent-0-100"}'
        message: 'ClusterHighMemoryLoad: [cluster:{{"{{"}} $externalLabels.cluster }}] Cluster
          Memory Usage Ratio (%) trigger alert, value: {{"{{"}} $value | printf "%.1f" }}%'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: (1 - sum(node_memory_MemAvailable_bytes) / sum(node_memory_MemTotal_bytes))
        * 100>90
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.cluster.memoryUsagePercent
        gems_alertname: ClusterHighMemoryLoad
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: ClusterComponentCertExpirySoon
    rules:
    - alert: ClusterComponentCertExpirySoon
      annotations:
        gems_expr_json: '{"scope":"system","resource":"cluster","rule":"certExpirationRemainTime","unit":"duration-s","labelpairs":{"component":"apiserver"}}'
        message: 'ClusterComponentCertExpirySoon: [cluster:{{"{{"}} $externalLabels.cluster
          }}] [component:{{"{{"}} $labels.component }}] Cluster Certs Expiration Time (second)
          trigger alert, value: {{"{{"}} $value | printf "%.1f" }}s'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_agent_cluster_component_cert_expiration_remain_seconds{component=~"apiserver"}<7
        * 24 * 60 * 60
      for: 1h
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: system.cluster.certExpirationRemainTime
        gems_alertname: ClusterComponentCertExpirySoon
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: GemsPluginFailed
    rules:
    - alert: GemsPluginFailed
      annotations:
        gems_expr_json: '{"scope":"others","resource":"plugin","rule":"status","unit":"","labelpairs":{"enabled":"true"}}'
        message: 'GemsPluginFailed: [cluster:{{"{{"}} $externalLabels.cluster }}] [type:{{"{{"}}
          $labels.type }}] [namespace:{{"{{"}} $labels.namespace }}] [plugin:{{"{{"}} $labels.plugin
          }}] [version:{{"{{"}} $labels.version }}] [enabled:{{"{{"}} $labels.enabled }}] KubeGems
          Plugins Status trigger alert, value: {{"{{"}} $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: gems_server_plugin_status{enabled=~"true"}==0
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.plugin.status
        gems_alertname: GemsPluginFailed
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
  - name: ExporterDown
    rules:
    - alert: ExporterDown
      annotations:
        gems_expr_json: '{"scope":"others","resource":"exporter","rule":"status","unit":"","labelpairs":{"job":"alertmanager|cert-manager|gems-agent|kube-state-metrics|node-exporter|nginx-ingress-operator-metrics"}}'
        message: 'ExporterDown: [cluster:{{"{{"}} $externalLabels.cluster }}] [instance:{{"{{"}}
          $labels.instance }}] [job:{{"{{"}} $labels.job }}] Plugins State trigger alert,
          value: {{"{{"}} $value | printf "%.1f" }}'
        value: '{{"{{"}} $value | printf "%.1f" }}'
      expr: up{job=~"alertmanager|cert-manager|gems-agent|kube-state-metrics|node-exporter|nginx-ingress-operator-metrics"}==0
      for: 1m
      labels:
        gems_alert_from: monitor
        gems_alert_scope: system-admin
        gems_alert_tpl: others.exporter.status
        gems_alertname: ExporterDown
        gems_namespace: {{ .Release.Namespace }}
        severity: critical
